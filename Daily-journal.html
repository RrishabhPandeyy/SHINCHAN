<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Daily Journal</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            max-width: 600px;
            background-color: #FFE4E1;
            padding: 20px;
            border-radius: 8px;
        }
        h1, h3 {
            color: #A52A2A;
        }
        #mood-tracker {
            margin-bottom: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        #mood-tracker span {
            cursor: pointer;
            font-size: 50px;
            margin-right: 10px;
            display: inline-block;
            padding: 5px;
            border-radius: 10px;
        }
        #mood-tracker span.selected {
            background-color: #A52A2A;
            color: white;
        }
        #goals-list {
            list-style-type: none;
            padding: 0;
        }
        #goals-list li {
            margin-bottom: 10px;
        }
        #diary-entry {
            width: 100%;
            height: 150px;
            border: 2px solid #A52A2A;
            border-radius: 5px;
            padding: 10px;
            font-size: 16px;
            resize: vertical;
        }
        .calendar {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            text-align: center;
            margin-top: 20px;
        }
        .calendar div {
            padding: 10px;
            border: 1px solid #A52A2A;
            border-radius: 5px;
        }
        .calendar .day {
            cursor: pointer;
            position: relative;
        }
        .calendar .day.completed {
            background-color: #A52A2A;
            color: white;
        }
        .calendar .day:hover {
            background-color: #FFDAB9;
        }
        .calendar .emoji {
            font-size: 30px;
            position: absolute;
            bottom: 5px;
            left: 50%;
            transform: translateX(-50%);
        }
        .calendar .task {
            font-size: 12px;
            text-align: center;
            margin-top: 10px;
        }
        #quote {
            font-style: italic;
            color: #555;
        }
        #diary-input {
            margin-top: 10px;
            font-size: 14px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0, 0, 0, 0.4);
            padding-top: 60px;
        }
        .modal-content {
            background-color: #fefefe;
            margin: 5% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
            max-width: 500px;
            border-radius: 8px;
        }
        .close {
            color: #aaa;
            font-size: 28px;
            font-weight: bold;
            position: absolute;
            top: 10px;
            right: 20px;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Daily Journal</h1>

    <!-- Mood Tracking -->
    <h3>Select your mood:</h3>
    <div id="mood-tracker">
        <!-- Adding a variety of emojis like WhatsApp -->
        <span onclick="setMood('😊', this)">😊</span>
        <span onclick="setMood('😐', this)">😐</span>
        <span onclick="setMood('😢', this)">😢</span>
        <span onclick="setMood('😡', this)">😡</span>
        <span onclick="setMood('😂', this)">😂</span>
        <span onclick="setMood('😍', this)">😍</span>
        <span onclick="setMood('😜', this)">😜</span>
        <span onclick="setMood('😎', this)">😎</span>
        <span onclick="setMood('😏', this)">😏</span>
        <span onclick="setMood('🥺', this)">🥺</span>
        <span onclick="setMood('🤔', this)">🤔</span>
        <span onclick="setMood('😴', this)">😴</span>
        <span onclick="setMood('😷', this)">😷</span>
        <span onclick="setMood('🙄', this)">🙄</span>
        <span onclick="setMood('😜', this)">😜</span>
        <span onclick="setMood('🤩', this)">🤩</span>
        <span onclick="setMood('😬', this)">😬</span>
        <span onclick="setMood('😇', this)">😇</span>
        <span onclick="setMood('🤪', this)">🤪</span>
        <span onclick="setMood('🥳', this)">🥳</span>
        <span onclick="setMood('😳', this)">😳</span>
        <span onclick="setMood('😝', this)">😝</span>
        <span onclick="setMood('🤧', this)">🤧</span>
        <span onclick="setMood('🤭', this)">🤭</span>
        <span onclick="setMood('😤', this)">😤</span>
        <span onclick="setMood('🫣', this)">🫣</span>
        <span onclick="setMood('😎', this)">😎</span>
    </div>
    <input type="hidden" id="mood" name="mood">

    <!-- Daily Goals -->
    <h3>Today's Goals:</h3>
    <ul id="goals-list">
        <li><input type="checkbox"> Finish reading a book</li>
        <li><input type="checkbox"> Exercise for 30 minutes</li>
        <li><input type="checkbox"> Write a journal entry</li>
    </ul>
    <input type="text" id="new-goal" placeholder="Add your own task" />
    <button onclick="addGoal()">Add Task</button>

    <!-- Reflection Prompt -->
    <h3>Reflection:</h3>
    <p id="reflection-prompt"></p>

    <!-- Diary Entry Text Area -->
    <h3>Write your diary entry:</h3>
    <textarea id="diary-entry" placeholder="Write your thoughts here..."></textarea>

    <!-- Monthly Progress (Calendar) -->
    <h3>Monthly Progress</h3>
    <div class="calendar" id="calendar"></div>

    <!-- Modal for Diary Entry -->
    <div id="diaryModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeDiaryModal()">&times;</span>
            <h3>Diary Entry for <span id="selected-date"></span></h3>
            <textarea id="modal-diary-entry" placeholder="Write your diary entry here..."></textarea>
            <button onclick="saveDiaryEntry()">Save Entry</button>
        </div>
    </div>

    <!-- Quote of the Day -->
    <h3>Quote of the Day:</h3>
    <p id="quote"></p>

    <script>
        // Mood tracking function
        function setMood(mood, element) {
            document.getElementById("mood").value = mood;
            alert("Mood set to: " + mood);
            const moodSpans = document.querySelectorAll("#mood-tracker span");
            moodSpans.forEach(span => span.classList.remove("selected"));
            element.classList.add("selected");
        }

        // Reflection prompt selection
        const prompts = [
            "What was the best part of your day?",
            "What did you learn today?",
            "What are you grateful for?",
            "What challenge did you overcome?",
            "Who made you smile today?"
        ];
        document.getElementById("reflection-prompt").innerText = prompts[Math.floor(Math.random() * prompts.length)];

        // Generate the calendar for the current month
        let diaryData = {};
        const daysInMonth = new Date(2024, 11, 0).getDate(); // Change this line for the current month

        function generateCalendar() {
            const calendarDiv = document.getElementById("calendar");
            calendarDiv.innerHTML = "";
            for (let i = 1; i <= daysInMonth; i++) {
                const dayDiv = document.createElement("div");
                dayDiv.classList.add("day");
                dayDiv.innerText = i;

                // Add Emoji if any mood has been selected for this date
                if (diaryData[i] && diaryData[i].mood) {
                    const emojiDiv = document.createElement("div");
                    emojiDiv.classList.add("emoji");
                    emojiDiv.innerText = diaryData[i].mood;
                    dayDiv.appendChild(emojiDiv);
                }

                // Add task to the calendar day
                if (diaryData[i] && diaryData[i].task) {
                    const taskDiv = document.createElement("div");
                    taskDiv.classList.add("task");
                    taskDiv.innerText = diaryData[i].task;
                    dayDiv.appendChild(taskDiv);
                }

                dayDiv.onclick = function () {
                    openDiaryModal(i);
                };

                calendarDiv.appendChild(dayDiv);
            }
        }

        // Open the diary modal on date click
        function openDiaryModal(date) {
            selectedDate = date;
            document.getElementById("selected-date").innerText = selectedDate;
            document.getElementById("modal-diary-entry").value = diaryData[selectedDate]?.entry || "";
            document.getElementById("diaryModal").style.display = "block";
        }

        // Close the diary modal
        function closeDiaryModal() {
            document.getElementById("diaryModal").style.display = "none";
        }

        // Save diary entry
        function saveDiaryEntry() {
            const diaryEntry = document.getElementById("modal-diary-entry").value;
            if (!diaryData[selectedDate]) {
                diaryData[selectedDate] = {};
            }
            diaryData[selectedDate].entry = diaryEntry;
            alert("Diary entry saved for " + selectedDate);
            closeDiaryModal();
            generateCalendar();
        }

        // Add a new goal
        function addGoal() {
            const newGoal = document.getElementById("new-goal").value;
            if (newGoal) {
                const goalList = document.getElementById("goals-list");
                const newGoalItem = document.createElement("li");
                newGoalItem.innerHTML = `<input type="checkbox"> ${newGoal}`;
                goalList.appendChild(newGoalItem);
                document.getElementById("new-goal").value = "";
            }
        }

        // Initialize calendar
        generateCalendar();
    </script>
</body>
</html>
